# Основные команды для работы с Git через консоль

Для начала немного настроек (укажем имя и почту):

1. `git config --global user.name your-name`
2. `git config --global user.email your-email`

-------------------------------------------

* `git init` - создать репозиторий
* `git status` - показать состояние репозитория

-------------------------------------------

## Индексация изменений

* `git add file-name` - проиндексировать изменения файла
  * `git add .`  - проиндексировать все изменения

* `git diff file-name` - показать изменения непроиндексированного файла
  * добавим `--staged`, если файл уже был проиндексирован

-------------------------------------------

### Поигрались с файлом, но изменения не понравились, как вернуть все обратно?

* `git checkout file-name` - отменить изменения до состояния текущего коммита

-------------------------------------------

### Что делать, если случайно проиндексировали лишний файл?

* `git reset HEAD file-name` - отменить индексацию файла

-------------------------------------------

## Коммиты

* `git commit -m 'message'` - собственно сам коммит

* `git log` - показать историю коммитов (здесь берем `hash`) до текущего (`q` - выйти из лога)
  * `--all` - все коммиты
  * `--oneline` - более удобный вывод (без автора и даты)
  * `--graph` - вывод схемой (удобно для веток)

* `git show hash-commit` - показать изменения в hash-коммите

-------------------------------------------

### Что делать, если случайно закоммитили лишний файл?

1. `git rm --cached style.css ` - удалить файл из последнего коммита
2. `git commit --amend --no-edit` - изменить коммит

-------------------------------------------

### А если допустили ошибку в commit-message?

* `git commit --amend -m 'message'` - изменить комментарий последнего коммита

-------------------------------------------

### Как вернуть состояние файла, как во-о-н в том коммите?

* `git checkout hash-commit file-name` - откатить состояние файла до hash-коммита
  * уберем `file-name`, если хотим откатить весь репозиторий

-------------------------------------------

## Ветки

* `git checkout -b branch-name` - создать ветку из текущего коммита
* `git branch` - показать список веток

-------------------------------------------

### Эта ветка больше не нужна, как быть?

* `git branch -d branch-name` - удалить ветку (нужно находиться в другой ветке)

-------------------------------------------

### Что делать, если ошиблись в названии ветки?

* `git branch -m name` - переименовать текущую ветку

-------------------------------------------

### Как создать ветку не из текущего коммита, а вон из того?

> Вчера начали изменения в дизайне, но вот появился еще один вариант,  
  создать коммит из текущего не получится, ведь здесь уже внесены изменения...

* `git checkout -b branch-name hash-commit` - создать ветку из коммита, где изменений еще не было

-------------------------------------------

### Что делать, если сделали изменения не в той ветке, но еще не закоммитили?

1. `git stash` - загрузить изменения в стек-грузовик
2. `git сheckout branch-name` - переехать в нужную ветку
3. `git stash apply` - выгрузить изменения

-------------------------------------------

### А что делать, если сделали изменения не в той ветке и уже закоммитили?

1. `git log` - скопировать hash этого коммита
    * hash коммита можно не копировать, если это был последний коммит в этой ветке

2. `git checkout branch-name` - перейти в нужную ветку

2. `git checkout cherry-pick hash-commit` - выгрузить коммит
    * и тогда достаточно указать имя ветки (вместо `hash-commit`), откуда его забрали

-------------------------------------------

### Как объединить ветку master с другой веткой?

1. `git checkout master` - переместиться в ветку `master`
2. `git merge branch-name -m 'massage'` - объединить текущую ветку с указанной
